<html>
  <head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.2/angular.min.js"></script>
    <script>
      angular.module('biblio', [])
        .directive('bookList', function($http) {
          return {
            restrict: 'E',
            templateUrl: 'book-list.html',
            scope: {
              'userId': '=?'
            },
            link: function (scope, element, attrs) {
              var userId = scope.userId | '41926065';
              $http.post('https://api.dcain.me/findBooks', {userId: userId, biblio: 'sfpl'})
                .then(function success(response) {
                  scope.availableBooks = response.data.books;
                });
            }
          };
        });
    </script>
  </head>
  <body data-ng-app="biblio">
    <div class="container">
      <h1 class="text-center">Reading List</h1>
      <book-list></book-list>
    </div>
  </body>
</html>
